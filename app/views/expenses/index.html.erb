<div class="body-wrapper">
  <div id="title" class="section">
    <h1>Let's track our finances</h1>
  </div>

  <div class="section">
    <table>
      <tr>
        <th>Name</th>
        <th>Amount</th>
        <th>Category</th>
        <th>Edit/Delete</th>
      </tr>
      <% @expenses.each do |expense| %>
        <tr>
          <td><%= number_with_delimiter(expense.name) %></td>
          <td>¥<%= number_with_delimiter(expense.amount) %></td>
          <td><%= number_with_delimiter(expense.category) %></td>
          <td class="table-btn">
            <%= link_to edit_expense_path(expense) do %>
              <i class="fa-solid fa-pen-to-square"></i>
            <% end %>
            <%= button_to expense_path(expense), method: :delete, data: { "turbo-method": :delete , "turbo-confirm": "Are you sure?"} do %>
              <i class="fa-solid fa-trash-can"></i>
            <% end %>
          </td>
        </tr>
      <% end %>
    </table>
  </div>

  <div class="section">
    <h1>You have ¥<%= @total %> left after outgoing expenses </h1>
  </div>

  <div class="section">
    <%= render 'expenses/new', expense: @expense %>
  </div>

</div>

